var ICIMS={_icimsUid:0,indexOf:(function(){if(Array.prototype.indexOf){return function(a,b){return Array.prototype.indexOf.call(a,b)}}else{return function(c,d){var b,a;for(b=0,a=c.length;b<a;b++){if(c[b]==d){return b}}return -1}}})(),escapeRegExp:function(a){return a.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},replaceBadApostropheChars:function(b){if(!b||typeof b!=="string"){return null}var a=b;a=a.replace(/[\u2018\u2019\u201B]/g,"'");a=a.replace(/[\u201C\u201D\u201F]/g,'"');return a},eventHandlers:{},activeXHRConnections:{},abortActiveXHRConnections:function(){for(var a in this.activeXHRConnections){if(this.activeXHRConnections.hasOwnProperty(a)){try{this.activeXHRConnections[a].aborted=true;this.activeXHRConnections[a].abort()}catch(b){}}}this.activeXHRConnections={}},addEvent:function(c,a,b){var e=this.bling(c).icimsUid;var f=b;if(a=="domready"){if(c.addEventListener){c.addEventListener("DOMContentLoaded",f,false)}else{var d=document.onreadystatechange;if(typeof document.onreadystatechange!="function"){document.onreadystatechange=function(){if(document.readyState.match(/interactive|complete/)){f()}}}else{document.onreadystatechange=function(){d();if(document.readyState.match(/interactive|complete/)){f()}}}}}else{if(c.addEventListener){c.addEventListener(a,f,false)}else{if(c.attachEvent){f=function(g){b.call(c,g)};c.attachEvent("on"+a,f)}}}if(!this.eventHandlers[e]){this.eventHandlers[e]={}}if(!this.eventHandlers[e][a]){this.eventHandlers[e][a]=[]}this.eventHandlers[e][a].push(f)},addEvents:function(c,b){var a;for(a in b){this.addEvent(c,a,b[a])}},removeEvent:function(f,b,e){var g=this.bling(f).icimsUid;var d;if(!this.eventHandlers[g]){this.eventHandlers[g]={}}var c=this.eventHandlers[g][b]||[];if(e){if(f.removeEventListener){f.removeEventListener(b,e,false)}else{f.detachEvent("on"+b,e)}var a=this.indexOf(c,e);if(a!==-1){c.splice(a,1)}if(c.length==0){delete this.eventHandlers[g][b]}}else{for(d=c.length-1;d>=0;d--){if(f.removeEventListener){f.removeEventListener(b,c[d],false)}else{f.detachEvent("on"+b,c[d])}}this.eventHandlers[g][b]=[];delete this.eventHandlers[g][b]}var h=true;for(d in this.eventHandlers[g]){h=false}if(h){delete this.eventHandlers[g]}},removeEvents:function(d,f){var e,a,b,c;if(!f){f=[];e=this.bling(d).icimsUid;a=this.eventHandlers[e];for(b in a){f.push(b)}}for(c=0;c<f.length;c++){this.removeEvent(d,f[c])}},fireEvent:function(b,a){var c;if("createEvent" in document){c=document.createEvent("HTMLEvents");c.initEvent(a,true,true);b.dispatchEvent(c)}else{c=document.createEventObject();c.eventType=a;b.fireEvent("on"+c.eventType,c)}},storage:{},store:function(b,a,d){var c=this.bling(b).icimsUid;if(!this.storage[c]){this.storage[c]={}}this.storage[c][a]=d},retrieve:function(b,a){var c=this.bling(b).icimsUid;return this.storage[c]?this.storage[c][a]:null},eliminate:function(c,b){var d=this.bling(c).icimsUid;var a;if(this.storage[d]){delete this.storage[d][b];var e=true;for(a in this.storage[d]){e=false}if(e){delete this.storage[d]}}},hasClass:function(a,b){return new RegExp(b).test(a.className)},addClass:function(a,b){if(!this.hasClass(a,b)){a.className+=" "+b}},removeClass:function(b,c){var a=new RegExp("(^|\\s)"+c+"(?:\\s|$)");b.className=trim(b.className.replace(a,"$1"))},show:function(a){this.removeClass(a,"hide")},hide:function(a){this.addClass(a,"hide")},getParent:function(a,c){var b=a.parentNode;if(!b){return undefined}if(!c||this.hasClass(b,c)){return b}return this.getParent(b,c)},getSelected:function(b){var c=[];var a;for(a=0;a<b.options.length;a++){if(b.options[a].selected){c.push(b.options[a])}}return c},getWindowSize:function(){return{x:document.documentElement?document.documentElement.clientWidth:window.innerWidth,y:document.documentElement?document.documentElement.clientHeight:window.innerHeight}},getWindowScroll:function(){return{x:document.documentElement?document.documentElement.scrollLeft:document.body.scrollLeft,y:document.documentElement?document.documentElement.scrollTop:document.body.scrollTop}},jsonEncode:function(c){if(JSON.stringify){return JSON.stringify(c)}else{var b={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};var a=[];var e,d;var f=function(g){return b[g]||"\\u"+("0000"+g.charCodeAt(0).toString(16)).slice(-4)};if(c&&c.toJSON){c=c.toJSON()}switch(typeof c){case"string":return'"'+c.replace(/[\x00-\x1f\\"]/g,f)+'"';case"array":for(e in c){d=this.jsonEncode(c[e]);if(d){a.push(d)}}return"["+a+"]";case"object":case"hash":for(e in c){d=this.jsonEncode(c[e]);if(d){a.push(this.jsonEncode(e)+":"+d)}}return"{"+a+"}";case"number":case"boolean":return""+c;case"null":return"null"}return null}},jsonDecode:function(string){if(!string||typeof string!="string"){return null}if(typeof JSON==="object"&&JSON.parse){return JSON.parse(string)}return eval("("+string+")")},getLength:function(a){var c=0;var b;for(b in a){if(a.hasOwnProperty(b)){c++}}return c},cloneObject:function(b){if(b===null||typeof b!=="object"){return b}var a={};var c;for(c in b){a[c]=this.cloneObject(b[c])}return a},bling:function(a){var b;if(typeof a==="string"){b=document.getElementById(a)}else{if(typeof a==="object"){b=a}}if(!b){return null}if(!b.icimsUid){b.icimsUid="ICIMS_uid_"+this._icimsUid++}return b},removeAttribute:function(a,b){if(a.removeProperty){a.removeProperty(b)}else{a.removeAttribute(b)}},getElementAttributes:function(d){var c,b=d.attributes,a={};for(c=0;c<b.length;c++){a[b[c].name]=b[c].value}return a},jsonp:(function(){var a={};a.send=function(h,e){var b=e.callbackName||"callback",i=e.onSuccess||function(){},g=e.onTimeout||function(){},f=e.timeout||10;var d=window.setTimeout(function(){window[b]=function(){};g()},f*1000);window[b]=function(j){window.clearTimeout(d);i(j)};var c=document.createElement("script");c.type="text/javascript";c.async=true;c.src=h;document.getElementsByTagName("head")[0].appendChild(c)};return a})(),getTarget:function(b){b=b||window.event;var a=b.target||b.srcElement;return a},stopEvent:function(a){a=a||window.event;a.cancelBubble=true;a.returnValue=false;if(a.stopPropagation){a.stopPropagation()}if(a.preventDefault){a.preventDefault()}return false},isMobile:function(){var a=false;(function(b){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4))){a=true}})(navigator.userAgent||navigator.vendor||window.opera);return a},isTouch:function(){return typeof window.orientation!=="undefined"},escapeHtml:function(a){if(!a){return a}a=this.replaceAll(a,"&","&amp;");a=this.replaceAll(a,"<","&lt;");a=this.replaceAll(a,">","&gt;");a=this.replaceAll(a,"'","&#039;");a=this.replaceAll(a,'"',"&#034;");return a},unescapeHtml:function(a){if(!a){return a}a=this.replaceAll(a,"&lt;","<");a=this.replaceAll(a,"&gt;",">");a=this.replaceAll(a,"&amp;","&");a=this.replaceAll(a,"&#039;","'");a=this.replaceAll(a,"&#39;","'");a=this.replaceAll(a,"&#034;",'"');a=this.replaceAll(a,"&#34;",'"');a=this.replaceAll(a,"&#x3c;","<");a=this.replaceAll(a,"&#x3e;",">");a=this.replaceAll(a,"&#x26;","&");a=this.replaceAll(a,"&#x27;","'");a=this.replaceAll(a,"&#x22;",'"');return a},escapeXml:function(a){if(!a){return a}a=this.replaceAll(a,"&","&amp;");a=this.replaceAll(a,"<","&lt;");a=this.replaceAll(a,">","&gt;");a=this.replaceAll(a,"'","&apos;");a=this.replaceAll(a,'"',"&quot;");return a},unescapeXml:function(a){if(typeof(a)!=="string"){return a}if(!a){return a}a=this.replaceAll(a,"&lt;","<");a=this.replaceAll(a,"&gt;",">");a=this.replaceAll(a,"&apos;","'");a=this.replaceAll(a,"&quot;",'"');a=this.replaceAll(a,"&amp;","&");a=this.replaceAll(a,"&#039;","'");a=this.replaceAll(a,"&#39;","'");a=this.replaceAll(a,"&#034;",'"');a=this.replaceAll(a,"&#34;","'");a=this.replaceAll(a,"&mdash;",String.fromCharCode(8212));return a},replaceAll:function(d,a,b){var c=new RegExp(this.escapeRegExp(a),"g");return d.replace(c,b)},createRequest:function(){var a=null;try{a=new XMLHttpRequest()}catch(c){try{a=new ActiveXObject("MSXML2.XMLHTTP")}catch(b){a=new ActiveXObject("Microsoft.XMLHTTP")}}return a},setText:function(a,b){if(!a){return}if("textContent" in a){a.textContent=b}else{a.innerText=b}return a},getText:function(a){if(!a){return}if("textContent" in a){return a.textContent}else{return a.innerText}},empty:function(a){while(a.firstChild){a.removeChild(a.firstChild)}return a},setInnerHtml:function(a,e,d){if(!a){return}if(typeof toStaticHTML==="function"||typeof toStaticHTML==="object"){var b=toStaticHTML(e);ICIMS.empty(a);a.innerHTML=b}else{var c;if(typeof d!=="undefined"){c=html2dom.parse(e,d)}else{c=html2dom.parse(e)}ICIMS.empty(a);if(c.childNodes.length){a.appendChild(c.cloneNode(true))}}return a},ajax:function(url,params){if(!url){return null}params=typeof params==="object"&&params?params:{};var requestWrapper={};requestWrapper.guid=uniqueID();requestWrapper.req=this.createRequest();var data=params.data||"";var method=data?"POST":"GET";var callback=typeof params.callback==="function"?params.callback:function(){};var async=typeof params.async==="boolean"?params.async:typeof params.callback==="function";var reqHeader="text/plain";if(method==="POST"&&/^[a-zA-Z0-9_-]+=/.test(data)){reqHeader="application/x-www-form-urlencoded"}if(url.indexOf(requestWrapper.guid+"=")==-1){url+=(url.indexOf("?")==-1?"?":"&")+requestWrapper.guid+"="}var recordStats=function recordStats(request){var guid=request.req.getResponseHeader("alrGUID");if(trim(guid)){request.t2=new Date().getTime();if(!request.t0||!request.t1||!request.t2){return}var stats={a:true,t:(request.t2-request.t0),p1:0,p2:0,p3:0,p4:(request.t1-request.t0),p5:(request.t2-request.t1)};saveStats(guid,stats)}};var checkLogout=function checkLogout(request){if(request.req.getResponseHeader("X-Session-Logout")=="true"){window.top.document.location.reload(true)}};if(async){this.activeXHRConnections[requestWrapper.guid]=requestWrapper.req}requestWrapper.req.open(method,url,async);requestWrapper.req.setRequestHeader("Content-type",reqHeader);if(params.dataType){requestWrapper.req.setRequestHeader("Accept",params.dataType)}requestWrapper.req.onreadystatechange=function(){if(requestWrapper.req.readyState!=4||requestWrapper.req.aborted){return}delete ICIMS.activeXHRConnections[requestWrapper.guid];requestWrapper.t1=new Date().getTime();if(requestWrapper.req.status>=200&&requestWrapper.req.status<300){try{recordStats(requestWrapper);checkLogout(requestWrapper)}catch(e){}eval(callback(requestWrapper.req))}else{if(requestWrapper.req.status>0){alert("An error occurred while attempting to contact the server. Please try again.")}try{recordStats(requestWrapper);checkLogout(requestWrapper)}catch(e){}return}};requestWrapper.t0=new Date().getTime();requestWrapper.req.send(data);return async?requestWrapper.req:requestWrapper.req.responseText;function uniqueID(){var UID=Date.now();return(UID++).toString(36)}},setQueryStringValue:function(b,a,j){var c;var h;var e={};var d=/(((ftp|http|https):\/\/)?([^?=&]+\/)+)?(([^?=&]+)?((\?[^?=&]+=[^&]*)(\&[^?=&]+=[^&]*)*))?/;var f=d.exec(b);if(f){c=f[1]?f[1]:""+f[6]?f[6]:"";h=f[7]}if(h){h.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(m,l,o,n){e[l]=n})}if(!c){var i=document.location;c=i.protocol+"//"+i.hostname+i.pathname}e[a]=encodeURIComponent(j);var g="";for(var k in e){g+=(g==""?"?":"&");g+=k+"="+e[k]}return c+g},isValidEmail:function(a){var b=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(!b.test(a)){return false}else{return true}},getScrollBarWidth:function getScrollBarWidth(){if(icims.utils.scrollBarWidth>=0){return icims.utils.scrollBarWidth}var c=document.createElement("p");c.style.width="100%";c.style.height="200px";var d=document.createElement("div");d.style.position="absolute";d.style.top="0px";d.style.left="0px";d.style.visibility="hidden";d.style.width="200px";d.style.height="150px";d.style.overflow="hidden";d.appendChild(c);d.style.boxSizing="content-box";document.body.appendChild(d);var b=c.offsetWidth;d.style.overflow="scroll";var a=c.offsetWidth;if(b==a){a=d.clientWidth}document.body.removeChild(d);return icims.utils.scrollBarWidth=(b-a)},isElementInViewport:function(a){if(typeof jQuery==="function"&&a instanceof jQuery){a=a[0]}var b=a.getBoundingClientRect();return(b.top>=0&&b.left>=0&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth))},debounce:function(c,e,b){var d,a;return function(){var i=this,h=arguments,g,f;g=function(){d=null;if(!b){a=c.apply(i,h)}};f=b&&!d;clearTimeout(d);d=setTimeout(g,e);if(f){a=c.apply(i,h)}return a}},throttle:function(f,h){var d,c,g,a,e,b;e=0;b=function(){e=new Date();g=null;a=f.apply(d,c)};return function(){var i=new Date(),j=h-(i-e);d=this;c=arguments;if(j<=0){clearTimeout(g);g=null;e=i;a=f.apply(d,c)}else{if(!g){g=setTimeout(b,j)}}return a}},css:{escape:function(a){return CSS.escape(a)}}};var icims=window.icims||{};icims.utils=ICIMS;