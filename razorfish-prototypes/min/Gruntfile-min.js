module.exports=function(s){s.initConfig({pkg:s.file.readJSON("package.json"),compass:{dev:{options:{httpPath:"/",cssDir:"dist/css",sassDir:"src/css/sass",imagesDir:"src/img",javascriptsDir:"src/js",generatedImagesDir:"dist/img/sprites",generatedImagesPath:"dist/img/sprites",httpGeneratedImagesPath:"dist/img/sprites",outputStyle:"expanded",force:!0}},prod:{options:{httpPath:"/",cssDir:"dist/css",sassDir:"src/css/sass",imagesDir:"src/img",javascriptsDir:"src/js",generatedImagesDir:"dist/img/sprites",generatedImagesPath:"dist/img/sprites",httpGeneratedImagesPath:"dist/img/sprites",outputStyle:"compressed",force:!0}}},uglify:{dev:{options:{banner:'/*! <%= pkg.name %> <%= grunt.template.today("dd-mm-yyyy") %> */\n',sourceMap:!0},files:{"dist/js/min/razorfish.min.js":["src/js/razorfish.js"]}},prod:{options:{banner:'/*! <%= pkg.name %> <%= grunt.template.today("dd-mm-yyyy") %> */\n'},files:{"dist/js/min/razorfish.min.js":["src/js/razorfish.js"]}}},browserify:{dev:{files:{"src/js/razorfish.js":["src/js/main.js"]}},prod:{files:{"src/js/razorfish.js":["src/js/main.js"]}}},watch:{compass:{files:["src/css/sass/**/*.scss"],tasks:["compass:dev"],options:{livereload:!1,force:!0}},browserify:{files:["src/js/modules/**/*.js"],tasks:["browserify:dev"]},uglify:{files:["src/js/razorfish.js"],tasks:["uglify:dev"]}},postcss:{options:{map:!0,processors:[require("pixrem")(),require("autoprefixer")({browsers:"last 2 versions"}),require("cssnano")()]},dist:{src:"dist/css/razorfish.css",dest:"dist/css/razorfish.css"}},browserSync:{bsFiles:{src:["dist/css/*.css","dist/*.html"]},options:{watchTask:!0,server:{baseDir:"dist",index:"home.html"}}}});var r=-1!==["Authoring","Production"].indexOf(s.option("target"))?"prod":"dev";s.loadNpmTasks("grunt-contrib-uglify"),s.loadNpmTasks("grunt-contrib-compass"),s.loadNpmTasks("grunt-contrib-watch"),s.loadNpmTasks("grunt-browserify"),s.loadNpmTasks("grunt-contrib-copy"),s.loadNpmTasks("grunt-browser-sync"),s.loadNpmTasks("grunt-postcss"),s.registerTask("default",["watch"]),s.registerTask("giovanni",["browserSync","watch","postcss"]),s.registerTask("build",["compass:"+r,"browserify:"+r,"uglify:"+r])};